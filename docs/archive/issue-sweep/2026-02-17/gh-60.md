# GH-60 글로벌 뮤터블 상태 → 상태 관리 시스템 도입

- URL: https://github.com/Cha-Ji/pocket-chrome-extension/issues/60
- Decision: UPDATE
- Evidence (현재 main 기준):
  - 관련 커밋/PR:
    - 670e0b3: content-script/app/ 모듈 분리 시 ContentScriptContext DI 패턴 도입
  - 관련 파일:
    - src/content-script/app/context.ts: ContentScriptContext 인터페이스 + createContext() 팩토리
    - src/content-script/auto-miner.ts: minerState 글로벌 객체 (직접 뮤테이션)
    - src/background/index.ts: tradingStatus 글로벌 let 변수
    - src/content-script/ 하위: 7개 싱글톤 인스턴스 (let xxxInstance = null 패턴)
  - 재현/비재현 근거:
    - content-script/app/ 모듈: ✅ ContentScriptContext DI 패턴으로 개선됨
    - auto-miner.ts: ❌ minerState 글로벌 객체 직접 뮤테이션 지속
    - background/index.ts: ❌ tradingStatus let 변수 직접 뮤테이션 지속
    - 싱글톤 패턴: ⚠️ let xxxInstance = null (7건), 테스트 격리 문제 잠재
    - Zustand/Store 패턴: ❌ 미도입
- Changes in this PR:
  - docs/issue-sweep/2026-02-17/gh-60.md 감사 문서 추가
  - 이슈 스코프 갱신 제안: app/ context 패턴 진행 반영, 나머지 영역 명시
- Tests:
  - N/A (문서 변경만)
- Follow-ups:
  - 이슈 본문에 현황 반영: app/ context 패턴 도입 완료, 나머지 미완
  - minerState → context 또는 store 패턴으로 마이그레이션
  - tradingStatus → 이벤트 기반 상태 관리 전환
  - 싱글톤 인스턴스 패턴 → 팩토리/DI 패턴으로 점진적 전환
  - Zustand 도입 여부는 규모 대비 ROI 재평가 필요
