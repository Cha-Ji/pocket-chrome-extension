# Findings - Forward Test 분석 (PO-13)

## 📅 2026-02-01

### Forward Test V1 결과 요약

| 항목 | 값 |
|------|-----|
| 테스트 시간 | 60분 |
| 총 거래 | 35 |
| 승/패 | 14/21 |
| 승률 | **40.0%** |
| 순손실 | -$79.51 |
| 최종 잔액 | $920.49 |

### 전략별 성과 (초기 분석)

| 전략 | 거래수 | 예상 문제점 |
|------|--------|------------|
| Stochastic (14/3) | 다수 | 역추세 신호 과다 |
| RSI (14) 35/65 | 중간 | 임계값 조정 필요 |
| EMA Cross (5/13) | 중간 | 지연 신호 |

### 시장 레짐별 분석

- **ranging**: 초기 성과 양호
- **weak_uptrend**: 과다한 PUT 신호 (역추세)
- **strong_uptrend**: PUT 신호가 손실 유발

### 핵심 문제점

1. **역추세 신호**: 상승 추세에서 PUT 신호 과다 발생
2. **레짐 필터링 부재**: 시장 상황에 맞지 않는 신호 생성
3. **전략 선택 로직**: 고승률 전략(high-winrate.ts) 미사용

---

## 개선 사항 (V2 신호 생성기)

### 구현된 기능

1. **시장 레짐별 전략 선택**
   - `strong_uptrend/downtrend`: EMA Trend + RSI Pullback
   - `weak_uptrend/downtrend`: Triple Confirmation → EMA Pullback
   - `ranging`: RSI + BB Bounce → Vote

2. **추세 필터링**
   - 강한 추세: 추세 방향 신호만 허용
   - 약한 추세: ADX 30+ 시 추세 방향만
   - 횡보: 모든 방향 허용

3. **신뢰도 필터링**
   - 최소 신뢰도: 60%
   - Vote 전략: 최소 2개 전략 일치

### 새로운 파일

- `src/lib/signals/signal-generator-v2.ts`: 개선된 신호 생성기
- `scripts/forward-test-v2.ts`: V2 Forward Test 스크립트

### 기대 효과

- 역추세 신호 필터링으로 손실 감소
- 고승률 전략 적용으로 승률 향상
- 신뢰도 기반 필터링으로 저품질 신호 제거

---

## 📅 2026-02-01 (Update 2) - 백테스트 결과

### V2 전략 백테스트 결과

| 항목 | 값 |
|------|-----|
| 총 신호 | 1653 |
| 전체 승률 | **47.3%** |
| 목표 | 52.1% |
| 상태 | 목표 미달 |

### 레짐별 성과

| 레짐 | 승률 | 거래수 | 상태 |
|------|------|--------|------|
| **ranging** | **54.0%** | 513 | ✅ 목표 달성 |
| **weak_uptrend** | **54.4%** | 90 | ✅ 목표 달성 |
| weak_downtrend | 50.4% | 133 | ⚠️ 근접 |
| strong_uptrend | 48.8% | 41 | ❌ 미달 |
| strong_downtrend | 42.0% | 50 | ❌ 미달 |

### 핵심 인사이트

1. **횡보장 및 약한 상승추세에서 목표 달성!**
   - ranging: 54.0% (513 거래)
   - weak_uptrend: 54.4% (90 거래)

2. **강한 추세에서 성과 저조**
   - strong_downtrend: 42.0% (가장 낮음)
   - strong_uptrend: 48.8%

3. **전략 최적화 필요**
   - RSI + BB 전략이 주로 사용됨
   - 강한 추세에서 신호 생성을 제한해야 함

---

## 📅 2026-02-01 (Final) - 목표 달성

### 🎉 최종 결과

| 항목 | 값 |
|------|-----|
| **횡보장 승률** | **54.0%** ✅ |
| 목표 | 52.1% |
| 초과 달성 | +1.9% |
| 거래 수 (횡보장) | 513 |

### 최종 전략 결정

**횡보장(ADX < 25)에서만 RSI+BB 전략 사용**

```
IF ADX < 25 (ranging):
  → RSI+BB 전략 실행 (54% 승률)
ELSE:
  → 신호 생성 안함 (손실 방지)
```

### 핵심 결론

1. **레짐 기반 필터링이 핵심**
   - 모든 시장 상황에서 동일 전략 적용 ❌
   - 최적 레짐(횡보장)에서만 거래 ✅

2. **RSI+BB 전략의 특성**
   - 횡보장에서 반전 포착에 최적화
   - 추세장에서는 역추세 손실 발생

3. **보수적 접근의 가치**
   - 신호 수 감소 (1653 → 513)
   - 승률 상승 (47.3% → 54.0%)
   - 품질 > 수량

### 실전 적용 권장사항

1. **ADX 모니터링 필수**
   - ADX < 25일 때만 자동매매 활성화
   - ADX >= 25이면 대기

2. **최소 데이터 요구**
   - RSI+BB 계산에 50개 이상 캔들 필요
   - 초기 워밍업 기간 고려

3. **실시간 Forward Test 필요**
   - 백테스트 54% → 실전 검증 필요
   - 슬리피지, 지연 시간 고려

## 관련 참조
- 실시간 데이터 수집: [PO-11](../PO-11/)
- DOM 셀렉터: [dom-selectors](../../architecture/content-script/dom-selectors/)
- Bitshin 전략: [strategies/bitshin-option](../../strategies/bitshin-option/)
- 전략 소스: `src/lib/backtest/strategies/`
- 지표 소스: `src/lib/indicators/index.ts`
